<div class="container">

  <!-- SEARCH FEATURE -->
  <div class="search border-inset">

    <div class="search__list">
      <button class="search__list--btn btn-small emboss">List view</button>
    </div>

    <div class="search__bar">
      <form>
        <label>
          <input
            type="text"
            (keyup)="searchTerm.next($event)"
            placeholder="Search"
            class="search__bar--input"
            [ngClass]="{ 'search__bar--input-loading': searching }"
          >
        </label>
      </form>
    </div>

    <div class="search__sort">
      <button
        (click)="onSort()"
        class="search__sort--btn btn-small emboss"
      >Sort A - Z</button>
    </div>

    <div
      class="search__results"
      *ngIf="searchResults && !hidden"
    >
      <button
        (click)="onHideSearchResults()"
        *ngIf="searchResults.length > 0"
        class="search__results--close"
      >Close</button>

      <ul *ngFor="let result of searchResults | slice:0:9">
        <a
          [routerLink]="['/drinks/name', result.slug]"
          class="search__results--item"
        >{{ result?.name }}</a>
      </ul>
    </div>

  </div>

  <!-- MAIN -->
  <div
    *ngIf="!isLoading"
    class="main"
  >
    <div class="main__cards">

      <app-drink-item
        *ngFor="let drink of (drinks$ | async);"
        [drink]="drink"
        [userIsAuth]="userIsAuth"
        [starreds]="starreds"
      ></app-drink-item>

    </div>
  </div>

  <span
    *ngIf="isLoading"
    class="loading"
  >Loading...</span>

</div>
